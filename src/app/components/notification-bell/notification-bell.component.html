<div class="notification-bell">
  <div class="bell-container" (click)="toggleDropdown()">
    <span class="bell-icon">ðŸ””</span>
    <span *ngIf="unreadCount > 0" class="notification-badge">{{ unreadCount > 99 ? '99+' : unreadCount }}</span>
  </div>

  <div *ngIf="showDropdown" class="notification-dropdown">
    <div class="dropdown-header">
      <h3>NotificaÃ§Ãµes</h3>
      <button *ngIf="unreadCount > 0" class="mark-all-read" (click)="markAllAsRead()">
        Marcar todas como lidas
      </button>
    </div>

    <div class="notifications-list">
      <div *ngIf="notifications.length === 0" class="no-notifications">
        <p>Nenhuma notificaÃ§Ã£o</p>
      </div>

      <div *ngFor="let notification of notifications"
           class="notification-item"
           [class.unread]="!notification.lida"
           [ngClass]="getNotificationClass(notification.acao)"
           (click)="markAsRead(notification)">

        <div class="notification-icon">
          {{ getNotificationIcon(notification.acao) }}
        </div>

        <div class="notification-content">
          <p class="notification-message">{{ notification.mensagem }}</p>
          <span class="notification-time">{{ formatTimestamp(notification.timestamp) }}</span>
        </div>

        <div *ngIf="!notification.lida" class="unread-indicator"></div>
      </div>
    </div>
  </div>
</div>
